@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for theming */
:root {
    /* Light mode colors */
    --color-bg-primary: 255 255 255; /* white */
    --color-bg-secondary: 249 250 251; /* gray-50 */
    --color-bg-hover: 243 244 246; /* gray-100 */
    --color-text-primary: 17 24 39; /* gray-900 */
    --color-text-secondary: 75 85 99; /* gray-600 */
    --color-text-muted: 107 114 128; /* gray-500 */
    --color-border: 229 231 235; /* gray-200 */
    --color-border-strong: 209 213 219; /* gray-300 */
    --color-accent: 17 24 39; /* gray-900 */
    --color-accent-hover: 75 85 99; /* gray-600 */
    --color-selection-bg: 17 24 39; /* gray-900 */
    --color-selection-text: 255 255 255; /* white */
}

/* Dark mode colors */
[data-theme="dark"] {
    --color-bg-primary: 17 24 39; /* gray-900 */
    --color-bg-secondary: 31 41 55; /* gray-800 */
    --color-bg-hover: 55 65 81; /* gray-700 */
    --color-text-primary: 243 244 246; /* gray-100 */
    --color-text-secondary: 209 213 219; /* gray-300 */
    --color-text-muted: 156 163 175; /* gray-400 */
    --color-border: 55 65 81; /* gray-700 */
    --color-border-strong: 75 85 99; /* gray-600 */
    --color-accent: 243 244 246; /* gray-100 */
    --color-accent-hover: 209 213 219; /* gray-300 */
    --color-selection-bg: 243 244 246; /* gray-100 */
    --color-selection-text: 17 24 39; /* gray-900 */
}

/* Auto dark mode based on system preference */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        --color-bg-primary: 17 24 39;
        --color-bg-secondary: 31 41 55;
        --color-bg-hover: 55 65 81;
        --color-text-primary: 243 244 246;
        --color-text-secondary: 209 213 219;
        --color-text-muted: 156 163 175;
        --color-border: 55 65 81;
        --color-border-strong: 75 85 99;
        --color-accent: 243 244 246;
        --color-accent-hover: 209 213 219;
        --color-selection-bg: 243 244 246;
        --color-selection-text: 17 24 39;
    }
}

/* Custom base styles */
@layer base {
    html {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply transition-colors duration-300;
        background-color: rgb(var(--color-bg-primary));
        color: rgb(var(--color-text-primary));
    }

    /* Typography improvements */
    p {
        text-wrap: pretty;
    }

    /* Focus styles */
    :focus {
        @apply outline-none ring-2 ring-offset-2;
        ring-color: rgb(var(--color-text-secondary));
        ring-offset-color: rgb(var(--color-bg-primary));
    }

    /* Selection styles */
    ::selection {
        background-color: rgb(var(--color-selection-bg));
        color: rgb(var(--color-selection-text));
    }
}

/* Custom component styles */
@layer components {
    /* WordPress alignment classes */
    .alignleft {
        @apply float-left mr-6 mb-4;
    }

    .alignright {
        @apply float-right ml-6 mb-4;
    }

    .aligncenter {
        @apply mx-auto block;
    }

    .alignwide {
        @apply -mx-8 md:-mx-16;
    }

    .alignfull {
        @apply -mx-6 md:-mx-12 lg:-mx-24;
    }

    /* WordPress caption */
    .wp-caption {
        @apply max-w-full;
    }

    .wp-caption-text {
        @apply text-sm mt-2 text-center;
        color: rgb(var(--color-text-secondary));
    }

    /* Gutenberg blocks */
    .wp-block-quote {
        @apply border-l-4 pl-6 my-8 italic;
        border-color: rgb(var(--color-border-strong));
    }

    .wp-block-separator {
        @apply border-t my-12;
        border-color: rgb(var(--color-border));
    }

    /* Navigation current item */
    .current-menu-item > a > span,
    .current_page_item > a > span {
        @apply border-b-2;
        color: rgb(var(--color-text-secondary));
        border-color: rgb(var(--color-text-secondary));
    }

    /* Navigation hover */
    .main-navigation a:hover span,
    .mobile-navigation a:hover span {
        color: rgb(var(--color-text-secondary));
    }

    /* Footer navigation hover */
    .site-footer a:hover span,
    .site-footer a:hover {
        color: rgb(var(--color-text-primary));
    }

    /* Menu toggle hover */
    #menu-toggle:hover {
        background-color: rgb(var(--color-bg-hover));
    }

    /* Screen reader text */
    .screen-reader-text {
        @apply absolute left-[-9999px] w-px h-px overflow-hidden;
    }

    .screen-reader-text:focus {
        @apply static w-auto h-auto overflow-visible;
        clip: auto;
    }

    /* WordPress gallery */
    .gallery {
        @apply grid gap-4;
    }

    .gallery-columns-2 {
        @apply grid-cols-2;
    }

    .gallery-columns-3 {
        @apply grid-cols-3;
    }

    .gallery-columns-4 {
        @apply grid-cols-2 md:grid-cols-4;
    }

    .gallery-item {
        @apply relative;
    }

    .gallery-icon img {
        @apply w-full h-auto rounded;
    }

    /* Comment form styles */
    .comment-form label {
        @apply block text-lg font-medium mb-2;
    }

    .comment-form .required {
        @apply text-red-500;
    }

    .comment-form input[type="text"],
    .comment-form input[type="email"],
    .comment-form input[type="url"],
    .comment-form textarea {
        background-color: rgb(var(--color-bg-secondary));
        color: rgb(var(--color-text-primary));
        border-color: rgb(var(--color-border));
    }

    /* Pagination */
    .nav-links {
        @apply flex justify-between items-center;
    }

    .page-numbers {
        @apply inline-block px-4 py-2 mx-1 text-lg rounded transition-colors duration-200;
        color: rgb(var(--color-text-primary));
    }

    .page-numbers:hover {
        background-color: rgb(var(--color-bg-hover));
    }

    .page-numbers.current {
        background-color: rgb(var(--color-accent));
        color: rgb(var(--color-bg-primary));
    }

    .page-numbers.current:hover {
        background-color: rgb(var(--color-accent-hover));
    }

    /* Widget styles */
    .widget {
        @apply mb-8;
    }

    .widget ul {
        @apply space-y-2;
    }

    .widget ul li {
        @apply text-lg;
    }

    .widget a {
        @apply transition-colors duration-300;
        color: rgb(var(--color-text-primary));
    }

    .widget a:hover {
        color: rgb(var(--color-text-secondary));
    }

    /* Search widget */
    .widget_search .search-form {
        @apply relative;
    }

    .widget_search .search-field {
        @apply w-full px-4 py-2 pr-20 border rounded-md focus:outline-none focus:ring-2;
        background-color: rgb(var(--color-bg-secondary));
        color: rgb(var(--color-text-primary));
        border-color: rgb(var(--color-border));
    }

    .widget_search .search-field:focus {
        ring-color: rgb(var(--color-text-secondary));
    }

    .widget_search .search-submit {
        @apply absolute right-1 top-1 px-4 py-1 rounded transition-colors duration-300;
        background-color: rgb(var(--color-accent));
        color: rgb(var(--color-bg-primary));
    }

    .widget_search .search-submit:hover {
        background-color: rgb(var(--color-accent-hover));
    }
}

/* Custom utility styles */
@layer utilities {
    /* Smooth scroll for anchor links */
    .smooth-scroll {
        scroll-behavior: smooth;
    }

    /* Typography utilities */
    .text-balance {
        text-wrap: balance;
    }

    /* Custom animation */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fadeIn {
        animation: fadeIn 0.5s ease-out;
    }
}

/* Prose styles for dark mode */
.prose {
    color: rgb(var(--color-text-primary));
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
    color: rgb(var(--color-text-primary));
}

.prose a {
    color: rgb(var(--color-accent));
}

.prose a:hover {
    color: rgb(var(--color-accent-hover));
}

.prose strong {
    color: rgb(var(--color-text-primary));
}

.prose code {
    color: rgb(var(--color-text-primary));
    background-color: rgb(var(--color-bg-hover));
}

.prose pre {
    background-color: rgb(var(--color-bg-secondary));
    color: rgb(var(--color-text-primary));
}

.prose blockquote {
    color: rgb(var(--color-text-secondary));
    border-left-color: rgb(var(--color-border-strong));
}

.prose figcaption {
    color: rgb(var(--color-text-muted));
}

.prose thead {
    color: rgb(var(--color-text-primary));
    border-bottom-color: rgb(var(--color-border));
}

.prose tbody tr {
    border-bottom-color: rgb(var(--color-border));
}

/* Post navigation links */
.post-navigation a {
    color: rgb(var(--color-text-primary));
    @apply transition-colors duration-300;
}

.post-navigation a:hover {
    color: rgb(var(--color-text-secondary));
}

/* Article links */
article h2 a:hover {
    color: rgb(var(--color-text-secondary));
}

.entry-content a:hover {
    color: rgb(var(--color-text-secondary));
}

/* Theme toggle button */
.theme-toggle {
    @apply shadow-lg;
}

.theme-toggle:hover {
    @apply shadow-xl;
    transform: scale(1.1);
}

.theme-toggle:focus {
    @apply outline-none ring-4;
    ring-color: rgb(var(--color-text-secondary));
    ring-offset-color: rgb(var(--color-bg-primary));
}

/* Scroll to top button */
.scroll-to-top {
    background-color: rgb(var(--color-accent));
    color: rgb(var(--color-bg-primary));
    @apply shadow-lg;
}

.scroll-to-top:hover {
    background-color: rgb(var(--color-accent-hover));
    @apply shadow-xl;
    transform: scale(1.1);
}

.scroll-to-top:focus {
    ring-color: rgb(var(--color-text-secondary));
    ring-offset-color: rgb(var(--color-bg-primary));
}

/* Print styles */
@media print {
    .site-header,
    .site-footer,
    .navigation,
    .comment-form,
    .widget-area,
    .scroll-to-top {
        @apply hidden;
    }

    body {
        @apply text-black bg-white;
    }

    a {
        @apply text-black underline;
    }

    .entry-content {
        @apply max-w-full;
    }
}